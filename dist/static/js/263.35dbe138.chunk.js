"use strict";(self.webpackChunkzmn_rx_oms_web=self.webpackChunkzmn_rx_oms_web||[]).push([[263],{70335:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(1413),i=t(29439),c=t(72791),o=t(35796),a=t(8008),l=t(59962),u=t.n(l),s=t(80184),d=function(e){var n=(0,c.useRef)(),t=(0,c.useState)(!0),l=(0,i.Z)(t,2),d=l[0],f=l[1],p=(0,c.useState)({left:0,top:0,bottom:0,right:0}),h=(0,i.Z)(p,2),v=h[0],m=h[1];return(0,s.jsxs)(a.Modal,(0,r.Z)((0,r.Z)({centered:!0},e),{},{title:null!==e&&void 0!==e&&e.title?(0,s.jsx)("div",{style:{width:"100%",cursor:"move"},onMouseOver:function(){d&&f(!1)},onMouseOut:function(){f(!0)},onFocus:function(){},onBlur:function(){},children:(null===e||void 0===e?void 0:e.title)||"Draggable Modal"}):null,visible:null===e||void 0===e?void 0:e.visible,onOk:null===e||void 0===e?void 0:e.onOk,onCancel:null===e||void 0===e?void 0:e.onCancel,wrapClassName:"draggable-modal",modalRender:function(e){return(0,s.jsx)(u(),{disabled:d,bounds:v,onStart:function(e,t){return function(e,t){var r,i=window.document.documentElement,c=i.clientWidth,o=i.clientHeight,a=null===n||void 0===n||null===(r=n.current)||void 0===r?void 0:r.getBoundingClientRect();a&&m({left:-a.left+t.x,right:c-(a.right-t.x),top:-a.top+t.y,bottom:o-(a.bottom-t.y)})}(0,t)},children:(0,s.jsx)("div",{ref:n,children:e})})},children:[null!==e&&void 0!==e&&e.tipTitle?(0,s.jsxs)("div",{className:"dragg-tip-title",children:[e.icon?e.icon:(0,s.jsx)(o.Z,{style:{color:"#FFC100",fontSize:24}}),(0,s.jsx)("div",{className:"tip-title",children:null===e||void 0===e?void 0:e.tipTitle})]}):null,null!==e&&void 0!==e&&e.orderType?(0,s.jsx)("div",{className:"draggable-modal-order-type",children:null===e||void 0===e?void 0:e.orderType}):null,null===e||void 0===e?void 0:e.children]}))}},90252:function(e,n,t){t.d(n,{X:function(){return f},V:function(){return d}});var r=t(15861),i=t(29439),c=t(87757),o=t.n(c),a=t(72791),l=t(86910),u=t(19995),s=(0,l.cn)({key:"dictState",default:null}),d=function(){var e=(0,a.useState)({}),n=(0,i.Z)(e,2),t=n[0],c=n[1];function l(){return(l=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.ax)();case 2:n=e.sent,c(n.items);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),{dictList:t}},f=function(){var e=(0,l.Zl)(s),n=(0,l.sJ)(s),t=(0,a.useState)(null),c=(0,i.Z)(t,2),d=c[0],f=c[1];function p(){return(p=(0,r.Z)(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("dictStateList",n),!n){t.next=5;break}f(n),t.next=10;break;case 5:return t.next=7,(0,u.ax)();case 7:r=t.sent,e(r.items),f(r.items);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,a.useEffect)((function(){!function(){p.apply(this,arguments)}()}),[]),{dictObj:d}}},91263:function(e,n,t){t.r(n),t.d(n,{default:function(){return te}});var r,i,c,o,a,l,u,s,d=t(1413),f=t(15861),p=t(93433),h=t(29439),v=t(87757),m=t.n(v),x=t(72791),g=t(8008),y=t(90252),j=t(16871),Z=t(80184);!function(e){e.closed="closed",e.effective="effective",e.expired="expired",e.init="init"}(r||(r={})),function(e){e.closed="#FF5476",e.effective="#7ED321",e.expired="#FF5476",e.init="#F5A623"}(i||(i={})),function(e){e.failed="failed",e.refund_fail="refund_fail",e.refund_success="refund_success",e.success="success",e.timeout="timeout",e.wait="wait"}(c||(c={})),function(e){e.failed="#FF5476",e.refund_fail="#FF5476",e.refund_success="#FF5476",e.success="#7ED321",e.timeout="#FF5476",e.wait="#F5A623"}(o||(o={})),function(e){e.rejected="rejected",e.success="success",e.wait="wait"}(a||(a={})),function(e){e.rejected="#FF5476",e.success="#7ED321",e.wait="#F5A623"}(l||(l={})),function(e){e.arrived="arrived",e.back_success="back_success",e.pick_up="pick_up",e.receive_success="receive_success",e.receive_wait="receive_wait",e.rejected="rejected",e.sign_failed="sign_failed",e.signed="signed",e.exception="exception",e.init="init",e.received="received",e.wait="wait"}(u||(u={})),function(e){e.arrived="#1791FF",e.back_success="#7ED321",e.pick_up="#7ED321",e.receive_success="#7ED321",e.receive_wait="#F5A623",e.rejected="#FF5476",e.sign_failed="#FF5476",e.signed="#7ED321",e.exception="#FF5476",e.init="#F5A623",e.received="#7ED321",e.wait="#F5A623"}(s||(s={}));var w=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"],S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},b=t(8453),C=function(e,n){return x.createElement(b.Z,(0,d.Z)((0,d.Z)({},e),{},{ref:n,icon:S}))};C.displayName="SettingOutlined";var k=x.forwardRef(C),D=t(13819),F="order-table-container_yj2gb",_="order-table-header_kxz6Q",R="table-header-title__VuvR",P="reload-icon_XFEdr",A="table-container_iFfH5",N="pagination-container_XiLed",O="out-put_sa38s",I="out-form_DJ47I",B="out-label_tDXFv",T="popover-container_qe0mh",E="popover-title_u0QvJ",z="popover-wrapper_hzZcG",L="popover-label_VQJr0",M="popover-tool_c7Sr1",Y="popover-father_vMoYR",V=t(70335),J=g.Select.Option,Q=function(e){var n=e.dataSource,t=e.total,r=void 0===t?0:t,i=e.columns,c=e.current,o=void 0===c?1:c,a=e.loading,l=e.onReload,u=e.onPage,s=e.onExport,d=e.onSelect,f=e.onSort,p=(0,x.useState)(!1),v=(0,h.Z)(p,2),m=v[0],y=v[1],j=(0,x.useState)(!1),w=(0,h.Z)(j,2),S=w[0],b=w[1],C=(0,x.useState)([]),Q=(0,h.Z)(C,2),q=Q[0],U=Q[1],G=(0,x.useState)("xlsx"),X=(0,h.Z)(G,2),K=X[0],H=X[1];return(0,Z.jsxs)("div",{className:F,children:[(0,Z.jsxs)("div",{className:_,children:[(0,Z.jsx)("h4",{className:R,children:"\u5904\u65b9\u8ba2\u5355\u5217\u8868"}),(0,Z.jsxs)(g.Space,{size:"middle",children:[(0,Z.jsx)("span",{className:P,onClick:l}),(0,Z.jsx)(g.Popover,{overlayClassName:Y,placement:"bottomRight",arrowPointAtCenter:!0,visible:S,mouseLeaveDelay:.3,trigger:"click",content:(0,Z.jsxs)("div",{className:T,children:[(0,Z.jsx)("h4",{className:E,children:"\u5217\u8868\u8bbe\u7f6e - \u66f4\u591a\u5217\u8868\u6570\u636e\u9879\u76ee"}),(0,Z.jsxs)("div",{className:z,children:[(0,Z.jsx)("span",{className:L,children:"\u66f4\u591a\u9879\u76ee\uff1a"}),(0,Z.jsx)(g.Checkbox.Group,{style:{width:"100%"},onChange:function(e){return U(e)},children:(0,Z.jsxs)(g.Row,{gutter:[0,24],children:[(0,Z.jsx)(g.Col,{span:24,children:(0,Z.jsx)(g.Checkbox,{value:"deliveryAmount",children:"\u8fd0\u8d39"})}),(0,Z.jsx)(g.Col,{span:24,children:(0,Z.jsx)(g.Checkbox,{value:"chainName",children:"\u8ba2\u5355\u6765\u6e90"})}),(0,Z.jsx)(g.Col,{span:24,children:(0,Z.jsx)(g.Checkbox,{value:"discountAmount",children:"\u6263\u51cf\u91d1\u989d"})}),(0,Z.jsx)(g.Col,{span:24,children:(0,Z.jsx)(g.Checkbox,{value:"realAmount",children:"\u5b9e\u6536\u91d1\u989d"})})]})})]}),(0,Z.jsxs)("div",{className:M,children:[(0,Z.jsx)("span",{}),(0,Z.jsxs)(g.Space,{size:"middle",children:[(0,Z.jsx)(g.Button,{onClick:function(){return b(!1)},children:"\u53d6\u6d88"}),(0,Z.jsx)(g.Button,{type:"primary",onClick:function(){b(!1),d(q)},children:"\u786e\u5b9a"})]})]})]}),children:(0,Z.jsx)(k,{style:{cursor:"pointer",color:"#217BA0"},onClick:function(){return b(!S)}})}),(0,Z.jsx)(g.Button,{type:"primary",onClick:function(){return y(!0)},children:"\u6279\u91cf\u5bfc\u51fa"})]})]}),(0,Z.jsx)("div",{className:A,onClick:function(){return b(!1)},children:(0,Z.jsx)(g.Table,{rowKey:"id",loading:a,pagination:!1,scroll:{x:"calc(700px + 50%)"},columns:i,dataSource:n,onChange:function(e,n,t,r){var i=t.order?[{property:{createTime:"create_time",receiveTime:"receive_time",realAmount:"real_amount",signTime:"sign_time"}[t.field],direction:"ascend"===t.order?"asc":"desc"}]:[{property:"create_time",direction:"desc"}];f(i)}})}),(0,Z.jsxs)("div",{className:N,children:[(0,Z.jsx)("span",{}),(0,Z.jsx)(g.Pagination,{total:r,current:o,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e){return"\u5171 ".concat(e," \u6761")},onChange:function(e,n){console.log(e,n),u(e,n)}})]}),(0,Z.jsx)(V.Z,{visible:m,closable:!1,width:"420px",icon:(0,Z.jsx)(D.Z,{style:{color:"#217BA0",fontSize:24,marginRight:16}}),tipTitle:"\u8bf7\u9009\u62e9\u5bfc\u51fa\u683c\u5f0f",onCancel:function(){return y(!1)},onOk:function(){s&&s(K);var e=setTimeout((function(){clearTimeout(e),y(!1)}),500)},children:(0,Z.jsx)("div",{className:O,children:(0,Z.jsxs)("div",{className:I,children:[(0,Z.jsx)("span",{className:B,children:"\u5bfc\u51fa\u683c\u5f0f\uff1a"}),(0,Z.jsxs)(g.Select,{defaultValue:"xlsx",value:K,style:{width:160},onChange:function(e){return H(e)},children:[(0,Z.jsx)(J,{value:"xlsx",children:"xlsx"}),(0,Z.jsx)(J,{value:"xls",children:"xls"}),(0,Z.jsx)(J,{value:"csv",children:"csv"})]})]})})})]})},q=t(40447),U=t(37295),G=t(68418),X="order-table-container_LEv9e",K=g.DatePicker.RangePicker,H=g.Select.Option,W=function(e){var n=e.onFinish,t=e.options,r=e.chains,i=g.Form.useForm(),c=(0,h.Z)(i,1)[0],o=(0,x.useState)(!1),a=(0,h.Z)(o,2),l=a[0],u=a[1],s=(0,x.useState)("78px"),f=(0,h.Z)(s,2),p=f[0],v=f[1];return(0,Z.jsx)("div",{className:X,style:{height:p},children:(0,Z.jsx)(g.Form,{form:c,name:"advanced_search",className:"ant-advanced-search-form",onFinish:function(e){var t=(0,d.Z)({},e);console.log(t),Object.keys(t).forEach((function(e){void 0===t[e]||null===t[e]||""===t[e]?delete t[e]:"time"===e&&t[e].length?(t.beginTime="".concat((0,G.pz)(t[e][0])," 00:00:00"),t.endTime="".concat((0,G.pz)(t[e][1])," 23:59:59"),delete t[e]):"order"===e&&t[e].length&&(t[t[e][0]]=t[e][1],delete t[e])})),n(t)},children:(0,Z.jsxs)(g.Row,{children:[(0,Z.jsx)(g.Col,{span:8,style:{paddingRight:60},children:(0,Z.jsx)(g.Form.Item,{name:"simpleSearch",label:"\u641c\u7d22\u67e5\u8be2",children:(0,Z.jsx)(g.Input,{allowClear:!0,placeholder:"\u60a3\u8005\u624b\u673a\u53f7/\u8ba2\u5355\u53f7/\u5904\u65b9\u53f7\u67e5\u8be2"})})}),(0,Z.jsx)(g.Col,{span:8,style:{paddingRight:60},children:(0,Z.jsx)(g.Form.Item,{name:"time",label:"\u65e5\u671f\u67e5\u8be2",children:(0,Z.jsx)(K,{placeholder:["\u8d77\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"]})})}),(0,Z.jsxs)(g.Col,{span:8,style:{textAlign:"right"},children:[(0,Z.jsx)(g.Button,{onClick:function(){c.resetFields(),n({})},children:"\u91cd\u7f6e"}),(0,Z.jsx)(g.Button,{style:{margin:"0 16px"},type:"primary",htmlType:"submit",children:"\u67e5\u8be2"}),(0,Z.jsx)("span",{style:{cursor:"pointer"},onClick:function(){u(!l),v(l?"78px":"auto")},children:l?(0,Z.jsx)(q.Z,{}):(0,Z.jsx)(U.Z,{})})]}),(0,Z.jsx)(g.Col,{span:8,style:{paddingRight:60},children:(0,Z.jsx)(g.Form.Item,{name:"toName",label:"\u60a3\u8005\u59d3\u540d",children:(0,Z.jsx)(g.Input,{allowClear:!0,placeholder:"\u8bf7\u8f93\u5165\u60a3\u8005\u59d3\u540d"})})}),(0,Z.jsx)(g.Col,{span:8,style:{paddingRight:60},children:(0,Z.jsx)(g.Form.Item,{name:"chainId",label:"\u8ba2\u5355\u6765\u6e90",children:(0,Z.jsx)(g.Select,{style:{width:"100%"},placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,maxTagCount:"responsive",children:r.map((function(e){return(0,Z.jsx)(H,{value:e.id,children:e.name},e.id)}))})})}),(0,Z.jsx)(g.Col,{span:8,style:{paddingRight:60},children:(0,Z.jsx)(g.Form.Item,{name:"order",label:"\u8ba2\u5355\u72b6\u6001",children:(0,Z.jsx)(g.Cascader,{className:"cascader",options:t,displayRender:function(e,n){return e.map((function(t,r){var i=n[r];return r===e.length-1?(0,Z.jsx)("span",{children:"string"===typeof t?"".concat(t,"/"):"".concat(t.props.text)},i.value):(0,Z.jsxs)("span",{children:[console.log("".concat("string"===typeof t?t:t.props.text)),"string"===typeof t?"".concat(t,"/"):"".concat(t.props.text)]},i.value)}))},placeholder:"\u8bf7\u9009\u62e9"})})})]})})})},$=t(19995),ee=t(40445),ne={},te=function(){var e=function(){var e,n,t,r,c=(0,y.V)().dictList,a=(0,j.s0)();return{orderStatus:[{value:"status",label:"\u8ba2\u5355\u72b6\u6001",children:null!==c&&void 0!==c&&c.advancedSearchStatus?null===(e=Object.keys(null===c||void 0===c?void 0:c.advancedSearchStatus))||void 0===e?void 0:e.map((function(e,n){return{value:e,label:(0,Z.jsx)(g.Badge,{color:w[n],text:null===c||void 0===c?void 0:c.advancedSearchStatus[e]})}})):[]},{value:"payStatus",label:"\u652f\u4ed8\u72b6\u6001",children:null!==c&&void 0!==c&&c.payStatus?null===(n=Object.keys(null===c||void 0===c?void 0:c.payStatus))||void 0===n?void 0:n.map((function(e,n){return{value:e,label:(0,Z.jsx)(g.Badge,{color:w[n],text:null===c||void 0===c?void 0:c.payStatus[e]})}})):[]},{value:"dispenseStatus",label:"\u53d1\u836f\u72b6\u6001",children:null!==c&&void 0!==c&&c.dispenseStatus?null===(t=Object.keys(null===c||void 0===c?void 0:c.dispenseStatus))||void 0===t?void 0:t.map((function(e,n){return{value:e,label:(0,Z.jsx)(g.Badge,{color:w[n],text:null===c||void 0===c?void 0:c.dispenseStatus[e]})}})):[]},{value:"deliveryStatus",label:"\u7269\u6d41\u72b6\u6001",children:null!==c&&void 0!==c&&c.OrderDeliveryStatusComb?null===(r=Object.keys(null===c||void 0===c?void 0:c.OrderDeliveryStatusComb))||void 0===r?void 0:r.map((function(e,n){return{value:e,label:(0,Z.jsx)(g.Badge,{color:w[n],text:null===c||void 0===c?void 0:c.OrderDeliveryStatusComb[e]})}})):[]}],tableColumns:[{title:"\u60a3\u8005\u59d3\u540d",dataIndex:"patientName",key:"patientName",width:100,hide:!1,render:function(e){return(0,Z.jsx)("span",{children:e||"-"})}},{title:"\u60a3\u8005\u7535\u8bdd",dataIndex:"patientPhone",key:"patientPhone",width:120,hide:!1,render:function(e){return(0,Z.jsx)("span",{children:e||"-"})}},{title:"\u8ba2\u5355\u7f16\u53f7",dataIndex:"id",key:"id",width:200,hide:!1,render:function(e){return(0,Z.jsx)("span",{children:e||"-"})}},{title:"\u673a\u6784\u5904\u65b9\u7f16\u53f7",dataIndex:"sourceRefId",key:"sourceRefId",width:200,hide:!1,render:function(e){return(0,Z.jsx)("span",{children:e||"-"})}},{title:"\u914d\u9001\u5355\u53f7",dataIndex:"deliveryNo",key:"deliveryNo",width:200,hide:!1,render:function(e){return(0,Z.jsx)("span",{children:e||"-"})}},{title:"\u5904\u65b9\u91d1\u989d",dataIndex:"prescriptionAmount",key:"prescriptionAmount",width:90,hide:!1,render:function(e){return(0,Z.jsx)("span",{children:null!==e?e:"-"})}},{title:"\u8ba2\u5355\u7c7b\u578b",dataIndex:"deliveryCategory",key:"deliveryCategory",width:90,hide:!1,render:function(e){return(0,Z.jsx)("span",{children:e||"-"})}},{title:"\u8ba2\u5355\u65f6\u95f4",dataIndex:"createTime",key:"createTime",width:160,sorter:!0,hide:!1,render:function(e){return(0,Z.jsx)("span",{children:e||"-"})}},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status",key:"status",width:130,hide:!1,render:function(e){return e?(0,Z.jsx)(g.Badge,{color:i[e],text:null!==c&&void 0!==c&&c.orderStatus?null===c||void 0===c?void 0:c.orderStatus[e]:""}):"-"}},{title:"\u652f\u4ed8\u72b6\u6001",dataIndex:"payStatus",key:"payStatus",width:130,hide:!1,render:function(e){return e?(0,Z.jsx)(g.Badge,{color:o[e],text:null!==c&&void 0!==c&&c.payStatus?null===c||void 0===c?void 0:c.payStatus[e]:""}):"-"}},{title:"\u53d1\u836f\u72b6\u6001",dataIndex:"dispenseStatus",key:"dispenseStatus",width:130,hide:!1,render:function(e){return e?(0,Z.jsx)(g.Badge,{color:l[e],text:null!==c&&void 0!==c&&c.dispenseStatus?null===c||void 0===c?void 0:c.dispenseStatus[e]:""}):"-"}},{title:"\u914d\u9001\u72b6\u6001",dataIndex:"deliveryStatus",key:"deliveryStatus",width:130,hide:!1,render:function(e){return e?(0,Z.jsx)(g.Badge,{color:s[e],text:null!==c&&void 0!==c&&c.deliveryStatus?null===c||void 0===c?void 0:c.deliveryStatus[e]:""}):"-"}}],extraColumns:[{title:"\u8fd0\u8d39",dataIndex:"deliveryAmount",key:"deliveryAmount",width:100,hide:!0,render:function(e){return null!==e?(0,Z.jsx)("span",{children:e}):"-"}},{title:"\u8ba2\u5355\u6765\u6e90",dataIndex:"chainName",key:"chainName",width:130,hide:!0,render:function(e){return null!==e?(0,Z.jsx)("span",{children:e}):"-"}},{title:"\u6263\u51cf\u91d1\u989d",dataIndex:"discountAmount",key:"discountAmount",width:100,hide:!0,render:function(e){return null!==e?(0,Z.jsx)("span",{children:e}):"-"}},{title:"\u5b9e\u6536\u91d1\u989d",dataIndex:"realAmount",key:"realAmount",width:100,hide:!0,render:function(e){return null!==e?(0,Z.jsx)("span",{children:e}):"-"}}],controlColumns:[{title:"\u64cd\u4f5c",key:"action",width:100,align:"right",fixed:"right",render:function(e,n){return(0,Z.jsx)(g.Space,{size:"middle",children:(0,Z.jsx)(g.Button,{type:"link",onClick:function(){return a("/prescrip/order/detail?id=".concat(n.id))},children:"\u67e5\u770b\u8be6\u60c5"})})}}]}}(),n=e.orderStatus,t=e.tableColumns,r=e.extraColumns,c=e.controlColumns,a=(0,x.useState)([].concat((0,p.Z)(t),(0,p.Z)(c))),u=(0,h.Z)(a,2),v=u[0],S=u[1],b=(0,x.useState)([]),C=(0,h.Z)(b,2),k=C[0],D=C[1],F=(0,x.useState)({pageNo:1,pageSize:10,entity:{},orders:[{property:"create_time",direction:"desc"}]}),_=(0,h.Z)(F,2),R=_[0],P=_[1],A=(0,ee.G)(R),N=A.total,O=A.orderSource,I=A.chainSource,B=A.isLoading,T=function(){var e=(0,f.Z)(m().mark((function e(n){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Vw)((0,d.Z)({fileType:n,orders:R.orders},R.entity));case 2:t=e.sent,(0,G.mu)(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(e){if(0===e.length)D([].concat((0,p.Z)(t),(0,p.Z)(c)));else{var n=r.filter((function(n){return e.includes(n.key)}));console.log(n),D([].concat((0,p.Z)(t),(0,p.Z)(n),(0,p.Z)(c)))}};return(0,x.useEffect)((function(){E(v)}),[O]),(0,Z.jsxs)("div",{className:ne["order-tracking"],children:[(0,Z.jsx)(W,{options:n,chains:I,onFinish:function(e){return P((0,d.Z)((0,d.Z)({},R),{},{pageNo:1,entity:(0,d.Z)({},e)}))}}),(0,Z.jsx)(Q,{total:N,columns:k,current:R.pageNo,dataSource:O,loading:B,onPage:function(e,n){return P((0,d.Z)((0,d.Z)({},R),{},{pageNo:e,pageSize:n}))},onReload:function(){P((0,d.Z)({},R))},onExport:function(e){T(e)},onSelect:function(e){S(e),E(e)},onSort:function(e){return P((0,d.Z)((0,d.Z)({},R),{},{orders:e}))}})]})}},40445:function(e,n,t){t.d(n,{G:function(){return u}});var r=t(15861),i=t(29439),c=t(87757),o=t.n(c),a=t(72791),l=t(19995),u=function(e,n){var t=(0,a.useState)(0),c=(0,i.Z)(t,2),u=c[0],s=c[1],d=(0,a.useState)(!1),f=(0,i.Z)(d,2),p=f[0],h=f[1],v=(0,a.useState)([]),m=(0,i.Z)(v,2),x=m[0],g=m[1],y=(0,a.useState)([]),j=(0,i.Z)(y,2),Z=j[0],w=j[1];function S(){return(S=(0,r.Z)(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),t.prev=1,t.next=4,(0,l.CS)(e);case 4:r=t.sent,s(null===r||void 0===r?void 0:r.total),h(!1),n?1===e.pageNo?g(null===r||void 0===r?void 0:r.records):g(x.concat(null===r||void 0===r?void 0:r.records)):g(null===r||void 0===r?void 0:r.records),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),h(!1);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}function b(){return(b=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.cj)();case 2:n=e.sent,w(n),h(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){!function(){S.apply(this,arguments)}(),function(){b.apply(this,arguments)}()}),[e]),{total:u,orderSource:x,isLoading:p,chainSource:Z}}},19995:function(e,n,t){t.d(n,{$P:function(){return p},AQ:function(){return m},B5:function(){return g},C7:function(){return l},CS:function(){return o},Fy:function(){return O},Ir:function(){return v},JR:function(){return h},Kk:function(){return u},Ot:function(){return w},T6:function(){return N},Vw:function(){return d},WJ:function(){return R},_T:function(){return C},_y:function(){return A},ax:function(){return Z},cj:function(){return S},d5:function(){return T},fQ:function(){return b},gU:function(){return a},iC:function(){return _},j3:function(){return D},jD:function(){return s},k8:function(){return B},kI:function(){return f},mB:function(){return P},qK:function(){return y},ro:function(){return F},te:function(){return j},u:function(){return x},uF:function(){return I},wB:function(){return k}});var r=t(1413),i=t(88461),c="/api/pharmacy/",o=function(e){return i.ZP.post("".concat(c,"adminOrder/getList"),(0,r.Z)({},e))},a=function(e){return i.ZP.get("".concat(c,"adminOrder/getOrderDetail/").concat(e))},l=function(e){return i.ZP.put("".concat(c,"adminOrder/cancel/").concat(e),{},{isReturnAllData:!0})},u=function(e){return i.ZP.post("".concat(c,"pharmacyOrder/getList"),e)},s=function(e){return i.ZP.get("".concat(c,"pharmacyOrder/getOrderDetail/").concat(e))},d=function(e){return i.ZP.post("".concat(c,"adminOrder/orderListExport"),e,{isFile:!0,headers:{"content-type":"application/json; charset=utf-8"},responseType:"blob"})},f=function(e){return i.ZP.post("".concat(c,"orderReview/review"),e,{isReturnAllData:!0})},p=function(e){return i.ZP.post("".concat(c,"orderDelivery/cancelDelivery"),e,{isReturnAllData:!0})},h=function(e){return i.ZP.post("".concat(c,"orderDelivery/doReDelivery"),e,{isReturnAllData:!0})},v=function(e){return i.ZP.post("".concat(c,"orderDelivery/singleDelivery"),e,{isReturnAllData:!0})},m=function(e){return i.ZP.post("".concat(c,"orderDelivery/doRePrescribe"),e,{isReturnAllData:!0})},x=function(e){return i.ZP.post("".concat(c,"demo/order/orderException/").concat(e),{},{isReturnAllData:!0})},g=function(e){return i.ZP.post("".concat(c,"demo/order/orderFinish/").concat(e),{},{isReturnAllData:!0})},y=function(e){return i.ZP.get("".concat(c,"pharmacyOrder/queryRationalDrugByOrderId/").concat(e))},j=function(e){return i.ZP.get("".concat(e),{isFile:!0,headers:{"content-type":"application/json; charset=utf-8"},responseType:"blob"})},Z=function(){return i.ZP.get("".concat(c,"sys/dict/all?version=%7B%7D"))},w=function(e){return i.ZP.get("".concat(c,"rationalDrug/queryInstruction/").concat(e))},S=function(){return i.ZP.post("".concat(c,"/chain/listAllChain"),{})},b=function(e){return i.ZP.post("".concat(c,"statisticsMonth/dailySummaryStatistics"),e)},C=function(e){return i.ZP.post("".concat(c,"chain/listAllChain"),{scopeCode:e})},k=function(e){return i.ZP.post("".concat(c,"chain/listAllChain"),e)},D=function(e){return i.ZP.get("".concat(c,"sys/dict/all/"),{params:{version:e}})},F=function(e){return i.ZP.post("".concat(c,"adminOrder/entryDeliveryInfo"),e,{isReturnAllData:!0})},_=function(e){return i.ZP.get("".concat(c,"adminOrder/finishDelivery/").concat(e),{isReturnAllData:!0})},R=function(e){return i.ZP.post("".concat(c,"statisticsMonth/queryCompleteAmountTrend"),e)},P=function(e){return i.ZP.post("".concat(c,"statisticsMonth/queryOrderQuantityTrend"),e)},A=function(e){return i.ZP.post("".concat(c,"drugsStatistics/drugSaleTopTenList"),e)},N=function(e){return i.ZP.post("".concat(c,"/channelConfig/getById/").concat(e))},O=function(e){return i.ZP.post("".concat(c,"channelConfig/page"),e)},I=function(e){return i.ZP.post("".concat(c,"channelConfig/delete/").concat(e))},B=function(e){return i.ZP.post("".concat(c,"channelConfig/updateStatus"),e)},T=function(e){return i.ZP.post("".concat(c,"channelConfig/save"),e)}},68418:function(e,n,t){t.d(n,{B4:function(){return a},Jm:function(){return u},mu:function(){return l},pz:function(){return o}});var r=t(72426),i=t.n(r),c="YYYY-MM-DD";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return i()(e).format(n)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?(null!==e&&void 0!==e&&e.includes(" ")?i().duration(i()().diff(e.split(" ")[0])).years():i().duration(i()().diff(e)).years()).toString():"\u672a\u77e5"}var l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xlsx",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(new Date).valueOf(),r=new Blob([e.data]),i=null===e||void 0===e?void 0:e.headers["content-disposition"],c=i?decodeURI(i.split(";")[1].split("filename=")[1]):t,o="".concat(n?"".concat(c,".").concat(n):c);if("download"in document.createElement("a")){var a=document.createElement("a");a.download=o,a.style.display="none",a.href=window.URL.createObjectURL(r),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(a.href),document.body.removeChild(a)}};function u(e){var n=[],t=e.replace(/\s+/g,""),r=new Date;if("\u6700\u8fd11\u5929"===t)n[0]=o("".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate())),n[1]=o("".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()));else if("\u6700\u8fd11\u5468"===t)n[0]=function(){var e=new Date;e.setDate(e.getDate()-6);var n=e.getFullYear(),t=e.getMonth()+1,r=e.getDate();return t<10&&(t="0".concat(t)),r<10&&(r="0".concat(r)),"".concat(n,"-").concat(t,"-").concat(r)}(),n[1]=o("".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()));else if("\u6700\u8fd11\u6708"===t){var i=new Date,c=i.getFullYear(),a=i.getMonth()+1,l=i.getDate();n[1]=o("".concat(c,"-").concat(a,"-").concat(l));var u="",s=new Date(c,a,0).getDate();if(a-1<=0)u="".concat(c-1,"-",12,"-").concat(l);else{var d=new Date(c,parseInt(a,10)-1,0).getDate();u=d<l?l<s?"".concat(c,"-").concat(a-1,"-").concat(d-(s-l)):"".concat(c,"-").concat(a-1,"-").concat(d):"".concat(c,"-").concat(a-1,"-").concat(l)}n[0]=o("".concat(u," "))}else if("\u6700\u8fd1\u534a\u5e74"===t){var f=r.getTime(),p=new Date(f-15768e6);n[0]=o("".concat(p.getFullYear(),"-").concat(p.getMonth()+1,"-").concat(p.getDate())),n[1]="".concat(o(new Date)," ")}else"\u6700\u8fd11\u5e74"===t&&(n[0]="".concat(o(r.setFullYear(r.getFullYear()-1))),n[1]="".concat(o(new Date)));return n}},37295:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(1413),i=t(72791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},o=t(8453),a=function(e,n){return i.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};a.displayName="DownOutlined";var l=i.forwardRef(a)},13819:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(1413),i=t(72791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"},o=t(8453),a=function(e,n){return i.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};a.displayName="QuestionCircleFilled";var l=i.forwardRef(a)},40447:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(1413),i=t(72791),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},o=t(8453),a=function(e,n){return i.createElement(o.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:c}))};a.displayName="UpOutlined";var l=i.forwardRef(a)}}]);
//# sourceMappingURL=263.35dbe138.chunk.js.map